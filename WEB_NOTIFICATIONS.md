# üîî –í–µ–±-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ –∑–≤—É–∫–æ–º –¥–ª—è SafeGram

## ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –í–µ–±-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ –∑–≤—É–∫–æ–º –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∑–≤–æ–Ω–∫–æ–≤

**–§—É–Ω–∫—Ü–∏–∏:**
- üîî –ö—Ä–∞—Å–∏–≤—ã–µ –≤–µ–±-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ –ø—Ä–µ–≤—å—é —Å–æ–æ–±—â–µ–Ω–∏–π
- üîä –ü—Ä–∏—è—Ç–Ω—ã–µ –∑–≤—É–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ–Ω–æ–≤)
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Settings
- üëÅÔ∏è –£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –≤–∏–¥–Ω–∞
- üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ —á–∞—Ç

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π:**
   - –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –≤–∏–¥–Ω–∞ (–≤–∫–ª–∞–¥–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞) –ò–õ–ò —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã
   - Desktop —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã

2. **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫: –Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞ –∏–ª–∏ –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
   - –¢–µ–∫—Å—Ç: –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è + –ø—Ä–µ–≤—å—é —Å–æ–æ–±—â–µ–Ω–∏—è (–¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ò–∫–æ–Ω–∫–∞: –∞–≤–∞—Ç–∞—Ä –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
   - –ó–≤—É–∫: –ø—Ä–∏—è—Ç–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ–Ω–æ–≤ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)

3. **–î–µ–π—Å—Ç–≤–∏—è:**
   - –ö–ª–∏–∫ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ —á–∞—Ç
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥

### –î–ª—è –∑–≤–æ–Ω–∫–æ–≤:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π:**
   - –í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫ (WebRTC offer)
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã
   - Desktop —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã

2. **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫: "üìπ –í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫ –æ—Ç [–ò–º—è]" –∏–ª–∏ "üìû –ó–≤–æ–Ω–æ–∫ –æ—Ç [–ò–º—è]"
   - –¢–µ–∫—Å—Ç: "–í—Ö–æ–¥—è—â–∏–π –≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫" / "–í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫"
   - –ò–∫–æ–Ω–∫–∞: –∞–≤–∞—Ç–∞—Ä –∑–≤–æ–Ω—è—â–µ–≥–æ
   - –ó–≤—É–∫: –∑–≤—É–∫ –∑–≤–æ–Ω–∫–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)
   - –¢—Ä–µ–±—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –í Settings ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:

- **üîî Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å
- **üîä –ó–≤—É–∫** - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫–∏
- **üîä –ì—Ä–æ–º–∫–æ—Å—Ç—å –∑–≤—É–∫–∞** - –æ—Ç 0% –¥–æ 100% (—Å–ª–∞–π–¥–µ—Ä)
- **üíª Desktop —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **üëÅÔ∏è –ü—Ä–µ–≤—å—é —Å–æ–æ–±—â–µ–Ω–∏–π** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö
- **üë• –ì—Ä—É–ø–ø—ã** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–∑ –≥—Ä—É–ø–ø
- **üì¢ –ö–∞–Ω–∞–ª—ã** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–æ–≤
- **@ –£–ø–æ–º–∏–Ω–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–í–∫–ª—é—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Settings ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –í–∫–ª—é—á–∏—Ç–µ "Desktop —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
   - –í–∫–ª—é—á–∏—Ç–µ "–ó–≤—É–∫"
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å

2. **–ó–∞–ø—Ä–æ—Å–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ:**
   - –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–æ—Å–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
   - –ù–∞–∂–º–∏—Ç–µ "–†–∞–∑—Ä–µ—à–∏—Ç—å"

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç –≤ –æ–¥–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
   - –û—Ç–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É –∏–ª–∏ —Å–≤–µ—Ä–Ω–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
   - –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ –∑–≤—É–∫–æ–º

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã:

- `web/src/services/notifications.ts` - —Å–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `web/src/components/EnhancedChatWindow.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —á–∞—Ç

### –§—É–Ω–∫—Ü–∏–∏:

```typescript
// –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
notifyNewMessage(
  senderName: string,
  messageText: string,
  chatName?: string,
  chatId?: string,
  avatarUrl?: string,
  playSound?: boolean,
  soundVolume?: number
)

// –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–≤–æ–Ω–∫–µ
notifyCall(
  callerName: string,
  isVideo: boolean,
  chatId?: string,
  avatarUrl?: string,
  playSound?: boolean,
  soundVolume?: number
)
```

### –õ–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞:

- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
  - `document.hidden === true` (–≤–∫–ª–∞–¥–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞) –ò–õ–ò
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–∞–∂–µ –∫–æ–≥–¥–∞ –≤–∫–ª–∞–¥–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞
- –ó–≤—É–∫ –∏–≥—Ä–∞–µ—Ç –≤—Å–µ–≥–¥–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω), –¥–∞–∂–µ –µ—Å–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

---

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∑–≤—É–∫–æ–≤

- **–°–æ–æ–±—â–µ–Ω–∏—è:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑ 3 —Ç–æ–Ω–æ–≤ (800Hz ‚Üí 1000Hz ‚Üí 1200Hz)
- **–ó–≤–æ–Ω–∫–∏:** –ë–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—ã–π –∑–≤—É–∫ (1000Hz, 0.3 —Å–µ–∫—É–Ω–¥—ã)
- **–ì—Ä–æ–º–∫–æ—Å—Ç—å:** –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Settings (0-100%)
- **–¢–∏—Ö–∏–π —Ä–µ–∂–∏–º:** –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫, –æ—Å—Ç–∞–≤–∏–≤ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞:
   - Chrome: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - Firefox: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - Safari: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ SafeGram:
   - Settings ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Üí Desktop —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –≤–∏–¥–Ω–∞:
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤–∫–ª–∞–¥–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞
   - –ò–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ –ø–æ–∫–∞–∑ –¥–∞–∂–µ –∫–æ–≥–¥–∞ –≤–∫–ª–∞–¥–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞

### –ó–≤—É–∫ –Ω–µ –∏–≥—Ä–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
   - Settings ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Üí –ó–≤—É–∫ –≤–∫–ª—é—á–µ–Ω
   - –ì—Ä–æ–º–∫–æ—Å—Ç—å –Ω–µ –Ω–∞ 0%

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—É—é –≥—Ä–æ–º–∫–æ—Å—Ç—å:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–≤—É–∫ –Ω–µ –≤—ã–∫–ª—é—á–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—Ç –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞
   - –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–∞–π—Ç–æ–º —Å–Ω–∞—á–∞–ª–∞

---

## üöÄ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–°–º. `CHAT_TODO.md` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á, –≤–∫–ª—é—á–∞—è:
- –†–∞–∑–Ω—ã–µ –∑–≤—É–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –î–µ–π—Å—Ç–≤–∏—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö (–û—Ç–≤–µ—Ç–∏—Ç—å, –ü–æ–∑–≤–æ–Ω–∏—Ç—å)
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–∞–∂–µ –∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –∑–∞–∫—Ä—ã—Ç
