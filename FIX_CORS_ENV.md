# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CORS —á–µ—Ä–µ–∑ .env

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

CORS –≤—Å–µ –µ—â–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å `https://safegram-hazel.vercel.app`

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ .env

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `server-go/.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
# –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ origins (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
ALLOW_ALL_ORIGINS=true

# –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
ALLOWED_ORIGINS=https://safegram-hazel.vercel.app,https://safegram-*.vercel.app
```

**–ü—Ä–æ—â–µ –≤—Å–µ–≥–æ** - –¥–æ–±–∞–≤—å—Ç–µ `ALLOW_ALL_ORIGINS=true` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## üìã –®–∞–≥–∏

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ `server-go/.env` –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ.

### 2. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É

```env
ALLOW_ALL_ORIGINS=true
```

–ò–ª–∏ –µ—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–Ω–µ—Ü.

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π backend (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:

```
START_LOCAL_SERVER.bat
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç –Ω–∞ Vercel
2. F12 ‚Üí Network
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏
4. CORS –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- `ALLOW_ALL_ORIGINS=true` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç **–≤—Å–µ** origins - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –î–ª—è production –ª—É—á—à–µ —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã —á–µ—Ä–µ–∑ `ALLOWED_ORIGINS`
- –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç: `https://my-safegram.loca.lt/health`

---

## üÜò –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: ERR_CONNECTION_RESET

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å –∏–ª–∏ backend –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. Backend –∑–∞–ø—É—â–µ–Ω? (`START_LOCAL_SERVER.bat`)
2. –¢—É–Ω–Ω–µ–ª—å –∑–∞–ø—É—â–µ–Ω? (`USELOCALTUNNEL.bat`)
3. –¢—É–Ω–Ω–µ–ª—å URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π? –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `https://my-safegram.loca.lt/health`

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –≤—Å–µ –µ—â–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ `ALLOW_ALL_ORIGINS=true` –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ **–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ backend** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)

---

## üìã –ü–æ–ª–Ω—ã–π .env –ø—Ä–∏–º–µ—Ä

```env
DATABASE_URL=postgres://safegram:safegram@localhost:5432/safegram?sslmode=disable
JWT_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç-–∫–ª—é—á
PORT=8080
WEBHOOK_URL=http://localhost:3000/webhook
NODE_ENV=development
ALLOW_ALL_ORIGINS=true
REDIS_URL=localhost:6379
```
