# üÜì –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã Railway (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏)

–ü–æ—Å–ª–µ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è –ª–∏–º–∏—Ç–∞ Railway - –≤–æ—Ç —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.

## üèÜ –õ—É—á—à–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

### 1. Render.com ‚≠ê –°–ê–ú–´–ô –ü–†–û–°–¢–û–ô

**–ë–µ—Å–ø–ª–∞—Ç–Ω–æ:**
- ‚úÖ 750 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü (—Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è 24/7 —Ä–∞–±–æ—Ç—ã)
- ‚úÖ PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ SSL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∏–∑ GitHub

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞—Å—ã–ø–∞–µ—Ç –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è
- ‚ö†Ô∏è –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ —Å–Ω–∞ - 30 —Å–µ–∫—É–Ω–¥ –∑–∞–¥–µ—Ä–∂–∫–∞

**–ö–∞–∫ –¥–µ–ø–ª–æ–∏—Ç—å:**

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://render.com
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
3. –ù–∞–∂–º–∏—Ç–µ "New +" ‚Üí "Web Service"
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `89646128494le-svg/safegramm`
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Name:** `safegram-backend`
   - **Region:** `Frankfurt` (–±–ª–∏–∂–∞–π—à–∏–π –∫ –†–æ—Å—Å–∏–∏)
   - **Branch:** `main`
   - **Root Directory:** `server-go`
   - **Environment:** `Go`
   - **Build Command:** `go build -o main .`
   - **Start Command:** `./main`
   - **Plan:** `Free`
6. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```
   DATABASE_URL=postgresql://... (—Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É)
   JWT_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á
   PORT=8080
   WEBHOOK_URL=http://localhost:3000/webhook
   ```
7. –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É:
   - "New +" ‚Üí "PostgreSQL"
   - Name: `safegram-db`
   - Plan: `Free`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `Internal Database URL`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ `DATABASE_URL`

**URL –±—É–¥–µ—Ç:** `https://safegram-backend.onrender.com`

---

### 2. Fly.io ‚≠ê –ù–ï –ó–ê–°–´–ü–ê–ï–¢

**–ë–µ—Å–ø–ª–∞—Ç–Ω–æ:**
- ‚úÖ 3 shared-cpu-1x –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã
- ‚úÖ 160GB –∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞/–º–µ—Å—è—Ü
- ‚úÖ 3GB –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- ‚úÖ PostgreSQL –±–∞–∑–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï –∑–∞—Å—ã–ø–∞–µ—Ç!**
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π (edge network)

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–µ–Ω CLI –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è
- ‚ö†Ô∏è –ß—É—Ç—å —Å–ª–æ–∂–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–ö–∞–∫ –¥–µ–ø–ª–æ–∏—Ç—å:**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Fly CLI:**
   
   **Windows (PowerShell):**
   ```powershell
   iwr https://fly.io/install.ps1 -useb | iex
   ```
   
   **–ò–ª–∏ —á–µ—Ä–µ–∑ winget:**
   ```powershell
   winget install -e --id Fly.CLI
   ```

2. **–í–æ–π–¥–∏—Ç–µ –≤ Fly:**
   ```bash
   fly auth login
   ```

3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:**
   ```bash
   cd server-go
   ```

4. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   fly launch
   ```
   
   –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ:
   - App name: `safegram-backend` (–∏–ª–∏ –ª—é–±–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
   - Region: `iad` (–í–∞—à–∏–Ω–≥—Ç–æ–Ω) –∏–ª–∏ `nrt` (–¢–æ–∫–∏–æ) - –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞–º
   - PostgreSQL: `Yes` (—Å–æ–∑–¥–∞—Å—Ç –±–∞–∑—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   - Redis: `No` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

5. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   fly secrets set JWT_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á
   fly secrets set WEBHOOK_URL=http://localhost:3000/webhook
   fly secrets set NODE_ENV=production
   ```

6. **–ó–∞–¥–µ–ø–ª–æ–π—Ç–µ:**
   ```bash
   fly deploy
   ```

**URL –±—É–¥–µ—Ç:** `https://safegram-backend.fly.dev`

**–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ GitHub:
```bash
fly github deploy
```

---

### 3. Oracle Cloud Free Tier üÜì –ù–ê–í–°–ï–ì–î–ê –ë–ï–°–ü–õ–ê–¢–ù–û

**–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –ù–ê–í–°–ï–ì–î–ê:**
- ‚úÖ 2 VM.Standard.A1.Flex (4 CPU, 24GB RAM –∫–∞–∂–¥—ã–π!)
- ‚úÖ 200GB –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- ‚úÖ 10TB –∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞/–º–µ—Å—è—Ü
- ‚úÖ –ë–ï–ó –ª–∏–º–∏—Ç–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ù–ï –∑–∞—Å—ã–ø–∞–µ—Ç

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é (Ubuntu, Docker)
- ‚ö†Ô∏è –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è (–Ω—É–∂–Ω–∞ –∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –Ω–æ –Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç)

**–ö–∞–∫ –¥–µ–ø–ª–æ–∏—Ç—å:**

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å:**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://cloud.oracle.com
   - –°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
   - –ù—É–∂–Ω–∞ –∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ (–¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏, –Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç)

2. **–°–æ–∑–¥–∞–π—Ç–µ VM:**
   - Compute ‚Üí Instances ‚Üí Create Instance
   - Name: `safegram-server`
   - Image: `Canonical Ubuntu 22.04`
   - Shape: `VM.Standard.A1.Flex` (Always Free)
   - Configure Networking: ‚úÖ Assign public IPv4
   - Add SSH keys: –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–≤–æ–π
   - Create

3. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ SSH:**
   ```bash
   ssh opc@your-vm-ip
   # –∏–ª–∏
   ssh ubuntu@your-vm-ip
   ```

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker:**
   ```bash
   curl -fsSL https://get.docker.com -o get-docker.sh
   sudo sh get-docker.sh
   sudo usermod -aG docker $USER
   ```

5. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL:**
   ```bash
   sudo apt update
   sudo apt install -y postgresql postgresql-contrib
   sudo systemctl start postgresql
   sudo systemctl enable postgresql
   
   # –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   sudo -u postgres psql
   CREATE DATABASE safegram;
   CREATE USER safegram WITH PASSWORD '–≤–∞—à-–ø–∞—Ä–æ–ª—å';
   GRANT ALL PRIVILEGES ON DATABASE safegram TO safegram;
   \q
   ```

6. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Go (–µ—Å–ª–∏ —á–µ—Ä–µ–∑ Docker –Ω–µ –±—É–¥–µ—Ç–µ):**
   ```bash
   wget https://go.dev/dl/go1.21.5.linux-amd64.tar.gz
   sudo tar -C /usr/local -xzf go1.21.5.linux-amd64.tar.gz
   echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
   source ~/.bashrc
   ```

7. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone https://github.com/89646128494le-svg/safegramm.git
   cd safegramm/server-go
   ```

8. **–°–æ–∑–¥–∞–π—Ç–µ .env:**
   ```bash
   nano .env
   ```
   ```
   DATABASE_URL=postgres://safegram:–≤–∞—à-–ø–∞—Ä–æ–ª—å@localhost:5432/safegram?sslmode=disable
   JWT_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á
   PORT=8080
   WEBHOOK_URL=http://localhost:3000/webhook
   NODE_ENV=production
   ```

9. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ:**
   ```bash
   go mod download
   go build -o main .
   ./main
   ```

**–ò–ª–∏ —á–µ—Ä–µ–∑ systemd (–¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞):**

```bash
sudo nano /etc/systemd/system/safegram.service
```

```ini
[Unit]
Description=SafeGram Backend
After=network.target postgresql.service

[Service]
Type=simple
User=opc
WorkingDirectory=/home/opc/safegramm/server-go
EnvironmentFile=/home/opc/safegramm/server-go/.env
ExecStart=/home/opc/safegramm/server-go/main
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl daemon-reload
sudo systemctl enable safegram
sudo systemctl start safegram
```

**URL –±—É–¥–µ—Ç:** `http://your-vm-ip:8080` (–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω –∏ nginx)

---

### 4. Google Cloud Run (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

**–ë–µ—Å–ø–ª–∞—Ç–Ω–æ:**
- ‚úÖ 2 –º–∏–ª–ª–∏–æ–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü
- ‚úÖ 360,000 GB-—Å–µ–∫—É–Ω–¥ –ø–∞–º—è—Ç–∏
- ‚úÖ 180,000 vCPU-—Å–µ–∫—É–Ω–¥
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–Ω–∞ –∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ (–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier)
- ‚ö†Ô∏è –ó–∞—Å—ã–ø–∞–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ Railway

| –•–æ—Å—Ç–∏–Ω–≥ | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | –ó–∞—Å—ã–ø–∞–µ—Ç | –ü—Ä–æ—Å—Ç–æ—Ç–∞ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|---------|-----------|----------|----------|--------------|
| **Render** | ‚úÖ –î–∞ | ‚ö†Ô∏è –î–∞ | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê –õ—É—á—à–∏–π –≤—ã–±–æ—Ä |
| **Fly.io** | ‚úÖ –î–∞ | ‚úÖ –ù–µ—Ç | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ |
| **Oracle Cloud** | ‚úÖ –ù–∞–≤—Å–µ–≥–¥–∞ | ‚úÖ –ù–µ—Ç | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê –ù–∞–≤—Å–µ–≥–¥–∞ |
| **Cloud Run** | ‚úÖ –î–∞ | ‚ö†Ô∏è –î–∞ | ‚≠ê‚≠ê‚≠ê | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ |

---

## üéØ –ú–æ–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: Render.com (–ë–´–°–¢–†–û)
**–ü–ª—é—Å—ã:** –ó–∞ 5 –º–∏–Ω—É—Ç –∑–∞–¥–µ–ø–ª–æ–∏—Ç–µ, –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ  
**–ú–∏–Ω—É—Å—ã:** –ó–∞—Å—ã–ø–∞–µ—Ç, —Ö–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç 30 —Å–µ–∫

### –í–∞—Ä–∏–∞–Ω—Ç 2: Fly.io (–ù–ê–î–ï–ñ–ù–û)
**–ü–ª—é—Å—ã:** –ù–µ –∑–∞—Å—ã–ø–∞–µ—Ç, –±—ã—Å—Ç—Ä—ã–π  
**–ú–∏–Ω—É—Å—ã:** –ù—É–∂–µ–Ω CLI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 3: Oracle Cloud (–ù–ê–í–°–ï–ì–î–ê)
**–ü–ª—é—Å—ã:** –ù–∞–≤—Å–µ–≥–¥–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ, 24GB RAM  
**–ú–∏–Ω—É—Å—ã:** –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Render - 5 –º–∏–Ω—É—Ç)

1. https://render.com ‚Üí Login with GitHub
2. "New +" ‚Üí "Web Service"
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ `safegramm` —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. Root Directory: `server-go`
5. Build: `go build -o main .`
6. Start: `./main`
7. Plan: `Free`
8. –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É –æ—Ç–¥–µ–ª—å–Ω–æ
9. –ì–æ—Ç–æ–≤–æ!

---

## ‚úÖ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. –í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Å—Ç–∏–Ω–≥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é Render –¥–ª—è –Ω–∞—á–∞–ª–∞)
2. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ backend
3. –û–±–Ω–æ–≤–∏—Ç–µ `VITE_API_URL` –≤ Vercel
4. –ì–æ—Ç–æ–≤–æ! üéâ
